˜
4D:\School\GameOfLife\GameRunner\GameRunner\Client.cs
	namespace 	

GameRunner
 
{ 
public		 

class		 
Client		 
{

 
public 

HttpClient 

HttpClient $
{% &
get' *
;* +
}, -
public 
Client 
( 
) 
{ 	

HttpClient 
= 
new 

HttpClient '
{ 
BaseAddress 
= 
new 
Uri 
( 
$str 6
)6 7
} 
; 
var 
val 
= 
$str (
;( )
var 
media 
= 
new +
MediaTypeWithQualityHeaderValue 3
(3 4
val4 7
)7 8
;8 9

HttpClient 
. !
DefaultRequestHeaders ,
., -
Accept- 3
.3 4
Clear4 9
(9 :
): ;
;; <

HttpClient 
. !
DefaultRequestHeaders ,
., -
Accept- 3
.3 4
Add4 7
(7 8
media8 =
)= >
;> ?
} 	
public 
void 

UpdateGame 
( 
	GameState (
	gameState) 2
)2 3
{ 	
var 
action 
= 
$str 3
;3 4
var   
content   
=   
new   
StringContent   +
(  + ,
JsonSerializer  , :
.  : ;
	Serialize  ; D
(  D E
	gameState  E N
)  N O
,  O P
Encoding  Q Y
.  Y Z
UTF8  Z ^
,  ^ _
$str  ` r
)  r s
;  s t

HttpClient!! 
.!! 
	PostAsync!!  
(!!  !
action!!! '
,!!' (
content!!) 0
)!!0 1
;!!1 2
}"" 	
public$$ 
void$$ 
SendConnectionId$$ $
($$$ %
string$$% +
connectionId$$, 8
)$$8 9
{%% 	
var&& 
action&& 
=&& 
$str&& =
;&&= >
var'' 
content'' 
='' 
new'' 
StringContent'' +
(''+ ,
JsonSerializer'', :
.'': ;
	Serialize''; D
(''D E
connectionId''E Q
)''Q R
)''R S
;''S T

HttpClient(( 
.(( 
	PostAsync((  
(((  !
action((! '
,((' (
content(() 0
)((0 1
;((1 2
})) 	
}** 
}++ Ê
7D:\School\GameOfLife\GameRunner\GameRunner\GameState.cs
	namespace 	

GameRunner
 
{ 
public 

class 
	GameState 
{ 
public 
bool 
[ 
] 
[ 
] 

Generation "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
ReactConnectionId '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
RunnerConnectionId (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public		 
	GameState		 
(		 
)		 
{

 	
} 	
} 
} ¯C
AD:\School\GameOfLife\GameRunner\GameRunner\GameStateCalculator.cs
	namespace 	

GameRunner
 
{ 
public 

class 
GameStateCalculator $
{ 
int 
MaxRows 
; 
int 

MaxColumns 
; 
public

 
GameStateCalculator

 "
(

" #
)

# $
{ 	
MaxRows 
= 
$num 
; 

MaxColumns 
= 
$num 
; 
} 	
public 
bool 
[ 
] 
[ 
] 
CalculateNextState *
(* +
	GameState+ 4
currentState5 A
)A B
{ 	
if 
( 
currentState 
!= 
null  $
)$ %
{ 
MaxRows 
= 
currentState &
.& '

Generation' 1
.1 2
Length2 8
;8 9

MaxColumns 
= 
currentState )
.) *

Generation* 4
[4 5
$num5 6
]6 7
.7 8
Length8 >
;> ?
bool 
[ 
] 
[ 
] 
nextGeneration '
=( )
new* -
bool. 2
[2 3
MaxRows3 :
]: ;
[; <
]< =
;= >
for 
( 
int 

currentRow #
=$ %
$num& '
;' (

currentRow) 3
<4 5
MaxRows6 =
;= >

currentRow? I
++I K
)K L
{ 
nextGeneration "
[" #

currentRow# -
]- .
=/ 0
new1 4
bool5 9
[9 :

MaxColumns: D
]D E
;E F
currentState  
.  !

Generation! +
[+ ,

currentRow, 6
]6 7
.7 8
CopyTo8 >
(> ?
nextGeneration? M
[M N

currentRowN X
]X Y
,Y Z
$num[ \
)\ ]
;] ^
} 
for 
( 
int 

currentRow #
=$ %
$num& '
;' (

currentRow) 3
<4 5
MaxRows6 =
;= >

currentRow? I
++I K
)K L
{ 
for   
(   
int   
currentColumn   *
=  + ,
$num  - .
;  . /
currentColumn  0 =
<  > ?

MaxColumns  @ J
;  J K
currentColumn  L Y
++  Y [
)  [ \
{!! 
int"" 
	lifeCount"" %
=""& '
CalculateLifeCount""( :
("": ;
currentState""; G
,""G H

currentRow""I S
,""S T
currentColumn""U b
)""b c
;""c d
nextGeneration$$ &
[$$& '

currentRow$$' 1
]$$1 2
[$$2 3
currentColumn$$3 @
]$$@ A
=$$B C
	lifeCount$$D M
==$$N P
$num$$Q R
||$$S U
nextGeneration$$V d
[$$d e

currentRow$$e o
]$$o p
[$$p q
currentColumn$$q ~
]$$~ 
;	$$ Ä
nextGeneration%% &
[%%& '

currentRow%%' 1
]%%1 2
[%%2 3
currentColumn%%3 @
]%%@ A
=%%B C
	lifeCount%%D M
>=%%N P
$num%%Q R
&&%%S U
	lifeCount%%V _
<=%%` b
$num%%c d
&&%%e g
nextGeneration%%h v
[%%v w

currentRow	%%w Å
]
%%Å Ç
[
%%Ç É
currentColumn
%%É ê
]
%%ê ë
;
%%ë í
}&& 
}'' 
return)) 
nextGeneration)) %
;))% &
}** 
return,, 
new,, 
bool,, 
[,, 
$num,, 
],, 
[,, 
],,  
;,,  !
}-- 	
private// 
int// 
CalculateLifeCount// &
(//& '
	GameState//' 0
	gameState//1 :
,//: ;
int//< ?

currentRow//@ J
,//J K
int//L O
currentColumn//P ]
)//] ^
{00 	
int11 
	lifeCount11 
=11 
$num11 
;11 
if33 
(33 

currentRow33 
>33 
$num33 
)33 
{44 
	lifeCount55 
+=55 
Convert55 $
.55$ %
ToInt3255% ,
(55, -
	gameState55- 6
.556 7

Generation557 A
[55A B

currentRow55B L
-55M N
$num55O P
]55P Q
[55Q R
currentColumn55R _
]55_ `
)55` a
;55a b
	lifeCount66 
+=66 
currentColumn66 *
>66+ ,
$num66- .
?66/ 0
Convert661 8
.668 9
ToInt32669 @
(66@ A
	gameState66A J
.66J K

Generation66K U
[66U V

currentRow66V `
-66a b
$num66c d
]66d e
[66e f
currentColumn66f s
-66t u
$num66v w
]66w x
)66x y
:66z {
$num66| }
;66} ~
	lifeCount77 
+=77 
currentColumn77 *
<77+ ,

MaxColumns77- 7
-778 9
$num77: ;
?77< =
Convert77> E
.77E F
ToInt3277F M
(77M N
	gameState77N W
.77W X

Generation77X b
[77b c

currentRow77c m
-77n o
$num77p q
]77q r
[77r s
currentColumn	77s Ä
+
77Ä Å
$num
77Ç É
]
77É Ñ
)
77Ñ Ö
:
77Ü á
$num
77à â
;
77â ä
}88 
if:: 
(:: 

currentRow:: 
<:: 
MaxRows:: $
-::% &
$num::' (
)::( )
{;; 
	lifeCount<< 
+=<< 
Convert<< $
.<<$ %
ToInt32<<% ,
(<<, -
	gameState<<- 6
.<<6 7

Generation<<7 A
[<<A B

currentRow<<B L
+<<M N
$num<<O P
]<<P Q
[<<Q R
currentColumn<<R _
]<<_ `
)<<` a
;<<a b
	lifeCount== 
+=== 
currentColumn== *
>==+ ,
$num==- .
?==/ 0
Convert==1 8
.==8 9
ToInt32==9 @
(==@ A
	gameState==A J
.==J K

Generation==K U
[==U V

currentRow==V `
+==a b
$num==c d
]==d e
[==e f
currentColumn==f s
-==s t
$num==u v
]==v w
)==w x
:==y z
$num=={ |
;==| }
	lifeCount>> 
+=>> 
currentColumn>> *
<>>+ ,

MaxColumns>>- 7
->>8 9
$num>>: ;
?>>< =
Convert>>> E
.>>E F
ToInt32>>F M
(>>M N
	gameState>>N W
.>>W X

Generation>>X b
[>>b c

currentRow>>c m
+>>n o
$num>>p q
]>>q r
[>>r s
currentColumn	>>s Ä
+
>>Ä Å
$num
>>Ç É
]
>>É Ñ
)
>>Ñ Ö
:
>>Ü á
$num
>>à â
;
>>â ä
}?? 
	lifeCountAA 
+=AA 
currentColumnAA &
>AA' (
$numAA) *
?AA+ ,
ConvertAA- 4
.AA4 5
ToInt32AA5 <
(AA< =
	gameStateAA= F
.AAF G

GenerationAAG Q
[AAQ R

currentRowAAR \
]AA\ ]
[AA] ^
currentColumnAA^ k
-AAk l
$numAAm n
]AAn o
)AAo p
:AAq r
$numAAs t
;AAt u
	lifeCountBB 
+=BB 
currentColumnBB &
<BB' (

MaxColumnsBB) 3
-BB4 5
$numBB6 7
?BB8 9
ConvertBB: A
.BBA B
ToInt32BBB I
(BBI J
	gameStateBBJ S
.BBS T

GenerationBBT ^
[BB^ _

currentRowBB_ i
]BBi j
[BBj k
currentColumnBBk x
+BBx y
$numBBz {
]BB{ |
)BB| }
:BB~ 
$num
BBÄ Å
;
BBÅ Ç
returnDD 
	lifeCountDD 
;DD 
}EE 	
}FF 
}GG ˘
:D:\School\GameOfLife\GameRunner\GameRunner\HubConnector.cs
	namespace 	

GameRunner
 
{ 
public 

class 
HubConnector 
{ 
public		 
HubConnection		 

Connection		 '
{		( )
get		* -
;		- .
}		/ 0
public 
HubConnector 
( 
) 
{ 	

Connection 
= 
new  
HubConnectionBuilder 1
(1 2
)2 3
. 
WithUrl 
( 
$str D
)D E
. 
Build 
( 
) 
; 
} 	
public 
void 
OnClosed 
( 
) 
{ 	

Connection 
. 
Closed 
+=  
async! &
(' (
error( -
)- .
=>/ 1
{ 
await 
Task 
. 
Delay  
(  !
new! $
Random% +
(+ ,
), -
.- .
Next. 2
(2 3
$num3 4
,4 5
$num6 7
)7 8
*9 :
$num; ?
)? @
;@ A
await 

Connection  
.  !

StartAsync! +
(+ ,
), -
;- .
} 
; 
} 	
} 
} Æ
5D:\School\GameOfLife\GameRunner\GameRunner\Program.cs
	namespace 	

GameRunner
 
{ 
public 

class 
Program 
{ 
	protected 
Program 
( 
) 
{		 	
} 	
static 
void 
Main 
( 
) 
{ 	
var 
client 
= 
new 
Client #
(# $
)$ %
;% &
var 
hubConnector 
= 
new "
HubConnector# /
(/ 0
)0 1
;1 2
var 

calculator 
= 
new  
GameStateCalculator! 4
(4 5
)5 6
;6 7
hubConnector 
. 
OnClosed !
(! "
)" #
;# $
hubConnector 
. 

Connection #
.# $
On$ &
<& '
	GameState' 0
>0 1
(1 2
$str2 A
,A B
(C D
currentStateD P
)P Q
=>R T
{ 
var 

generation 
=  

calculator! +
.+ ,
CalculateNextState, >
(> ?
currentState? K
)K L
;L M
var 
	nextState 
= 
new  #
	GameState$ -
(- .
). /
{ 

Generation 
=  

generation! +
,+ ,
ReactConnectionId %
=& '
currentState( 4
.4 5
ReactConnectionId5 F
,F G
RunnerConnectionId &
=' (
currentState) 5
.5 6
RunnerConnectionId6 H
,H I
} 
; 
client 
. 

UpdateGame !
(! "
	nextState" +
)+ ,
;, -
} 
) 
; 
try!! 
{"" 
hubConnector## 
.## 

Connection## '
.##' (

StartAsync##( 2
(##2 3
)##3 4
;##4 5
}$$ 
catch%% 
(%% 
	Exception%% 
ex%% 
)%%  
{&& 
Console'' 
.'' 
	WriteLine'' !
(''! "
ex''" $
.''$ %
Message''% ,
)'', -
;''- .
}(( 
Console** 
.** 
Read** 
(** 
)** 
;** 
hubConnector++ 
.++ 

Connection++ #
.++# $
	StopAsync++$ -
(++- .
)++. /
;++/ 0
},, 	
}-- 
}.. â
DD:\School\GameOfLife\GameRunner\GameRunner\System\Web\HttpContext.cs
	namespace 	
System
 
. 
Web 
{ 
internal 
class 
HttpContext 
{ 
} 
} 