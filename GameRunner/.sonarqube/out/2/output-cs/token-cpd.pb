Œ
4D:\School\GameOfLife\GameRunner\GameRunner\Client.cs
	namespace 	

GameRunner
 
{		 
public

 

class

 
Client

 
{ 
public 

HttpClient 

HttpClient $
{% &
get' *
;* +
}, -
public 
Client 
( 
string 

connection '
)' (
{ 	

HttpClient 
= 
new 

HttpClient '
{ 
BaseAddress 
= 
new 
Uri 
( 

connection "
)" #
} 
; 
var 
val 
= 
$str (
;( )
var 
media 
= 
new +
MediaTypeWithQualityHeaderValue 3
(3 4
val4 7
)7 8
;8 9

HttpClient 
. !
DefaultRequestHeaders ,
., -
Accept- 3
.3 4
Clear4 9
(9 :
): ;
;; <

HttpClient 
. !
DefaultRequestHeaders ,
., -
Accept- 3
.3 4
Add4 7
(7 8
media8 =
)= >
;> ?
} 	
public 
Task 
< 
HttpResponseMessage '
>' (

UpdateGame) 3
(3 4
	GameState4 =
	gameState> G
)G H
{ 	
var   
action   
=   
$str   3
;  3 4
var!! 
content!! 
=!! 
new!! 
StringContent!! +
(!!+ ,
JsonSerializer!!, :
.!!: ;
	Serialize!!; D
(!!D E
	gameState!!E N
)!!N O
,!!O P
Encoding!!Q Y
.!!Y Z
UTF8!!Z ^
,!!^ _
$str!!` r
)!!r s
;!!s t
return"" 

HttpClient"" 
."" 
	PostAsync"" '
(""' (
action""( .
,"". /
content""0 7
)""7 8
;""8 9
}## 	
}$$ 
}%% Ê
7D:\School\GameOfLife\GameRunner\GameRunner\GameState.cs
	namespace 	

GameRunner
 
{ 
public 

class 
	GameState 
{ 
public 
bool 
[ 
] 
[ 
] 

Generation "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
ReactConnectionId '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
RunnerConnectionId (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public		 
	GameState		 
(		 
)		 
{

 	
} 	
} 
} èD
AD:\School\GameOfLife\GameRunner\GameRunner\GameStateCalculator.cs
	namespace 	

GameRunner
 
{ 
public 

class 
GameStateCalculator $
{ 
int 
MaxRows 
; 
int 

MaxColumns 
; 
public

 
GameStateCalculator

 "
(

" #
)

# $
{ 	
MaxRows 
= 
$num 
; 

MaxColumns 
= 
$num 
; 
} 	
public 
	GameState 
CalculateNextState +
(+ ,
	GameState, 5
currentState6 B
)B C
{ 	
if 
( 
currentState 
!= 
null  $
)$ %
{ 
MaxRows 
= 
currentState &
.& '

Generation' 1
.1 2
Length2 8
;8 9

MaxColumns 
= 
currentState )
.) *

Generation* 4
[4 5
$num5 6
]6 7
.7 8
Length8 >
;> ?
bool 
[ 
] 
[ 
] 
nextGeneration '
=( )
new* -
bool. 2
[2 3
MaxRows3 :
]: ;
[; <
]< =
;= >
for 
( 
int 

currentRow #
=$ %
$num& '
;' (

currentRow) 3
<4 5
MaxRows6 =
;= >

currentRow? I
++I K
)K L
{ 
nextGeneration "
[" #

currentRow# -
]- .
=/ 0
new1 4
bool5 9
[9 :

MaxColumns: D
]D E
;E F
currentState  
.  !

Generation! +
[+ ,

currentRow, 6
]6 7
.7 8
CopyTo8 >
(> ?
nextGeneration? M
[M N

currentRowN X
]X Y
,Y Z
$num[ \
)\ ]
;] ^
} 
for 
( 
int 

currentRow #
=$ %
$num& '
;' (

currentRow) 3
<4 5
MaxRows6 =
;= >

currentRow? I
++I K
)K L
{ 
for   
(   
int   
currentColumn   *
=  + ,
$num  - .
;  . /
currentColumn  0 =
<  > ?

MaxColumns  @ J
;  J K
currentColumn  L Y
++  Y [
)  [ \
{!! 
int"" 
	lifeCount"" %
=""& '
CalculateLifeCount""( :
("": ;
currentState""; G
,""G H

currentRow""I S
,""S T
currentColumn""U b
)""b c
;""c d
nextGeneration$$ &
[$$& '

currentRow$$' 1
]$$1 2
[$$2 3
currentColumn$$3 @
]$$@ A
=$$B C
	lifeCount$$D M
==$$N P
$num$$Q R
||$$S U
nextGeneration$$V d
[$$d e

currentRow$$e o
]$$o p
[$$p q
currentColumn$$q ~
]$$~ 
;	$$ Ä
nextGeneration%% &
[%%& '

currentRow%%' 1
]%%1 2
[%%2 3
currentColumn%%3 @
]%%@ A
=%%B C
	lifeCount%%D M
>=%%N P
$num%%Q R
&&%%S U
	lifeCount%%V _
<=%%` b
$num%%c d
&&%%e g
nextGeneration%%h v
[%%v w

currentRow	%%w Å
]
%%Å Ç
[
%%Ç É
currentColumn
%%É ê
]
%%ê ë
;
%%ë í
}&& 
}'' 
currentState)) 
.)) 

Generation)) '
=))( )
nextGeneration))* 8
;))8 9
return++ 
currentState++ #
;++# $
},, 
return.. 
new.. 
	GameState..  
(..  !
)..! "
;.." #
}// 	
private11 
int11 
CalculateLifeCount11 &
(11& '
	GameState11' 0
	gameState111 :
,11: ;
int11< ?

currentRow11@ J
,11J K
int11L O
currentColumn11P ]
)11] ^
{22 	
int33 
	lifeCount33 
=33 
$num33 
;33 
if55 
(55 

currentRow55 
>55 
$num55 
)55 
{66 
	lifeCount77 
+=77 
Convert77 $
.77$ %
ToInt3277% ,
(77, -
	gameState77- 6
.776 7

Generation777 A
[77A B

currentRow77B L
-77M N
$num77O P
]77P Q
[77Q R
currentColumn77R _
]77_ `
)77` a
;77a b
	lifeCount88 
+=88 
currentColumn88 *
>88+ ,
$num88- .
?88/ 0
Convert881 8
.888 9
ToInt32889 @
(88@ A
	gameState88A J
.88J K

Generation88K U
[88U V

currentRow88V `
-88a b
$num88c d
]88d e
[88e f
currentColumn88f s
-88t u
$num88v w
]88w x
)88x y
:88z {
$num88| }
;88} ~
	lifeCount99 
+=99 
currentColumn99 *
<99+ ,

MaxColumns99- 7
-998 9
$num99: ;
?99< =
Convert99> E
.99E F
ToInt3299F M
(99M N
	gameState99N W
.99W X

Generation99X b
[99b c

currentRow99c m
-99n o
$num99p q
]99q r
[99r s
currentColumn	99s Ä
+
99Ä Å
$num
99Ç É
]
99É Ñ
)
99Ñ Ö
:
99Ü á
$num
99à â
;
99â ä
}:: 
if<< 
(<< 

currentRow<< 
<<< 
MaxRows<< $
-<<% &
$num<<' (
)<<( )
{== 
	lifeCount>> 
+=>> 
Convert>> $
.>>$ %
ToInt32>>% ,
(>>, -
	gameState>>- 6
.>>6 7

Generation>>7 A
[>>A B

currentRow>>B L
+>>M N
$num>>O P
]>>P Q
[>>Q R
currentColumn>>R _
]>>_ `
)>>` a
;>>a b
	lifeCount?? 
+=?? 
currentColumn?? *
>??+ ,
$num??- .
???/ 0
Convert??1 8
.??8 9
ToInt32??9 @
(??@ A
	gameState??A J
.??J K

Generation??K U
[??U V

currentRow??V `
+??a b
$num??c d
]??d e
[??e f
currentColumn??f s
-??s t
$num??u v
]??v w
)??w x
:??y z
$num??{ |
;??| }
	lifeCount@@ 
+=@@ 
currentColumn@@ *
<@@+ ,

MaxColumns@@- 7
-@@8 9
$num@@: ;
?@@< =
Convert@@> E
.@@E F
ToInt32@@F M
(@@M N
	gameState@@N W
.@@W X

Generation@@X b
[@@b c

currentRow@@c m
+@@n o
$num@@p q
]@@q r
[@@r s
currentColumn	@@s Ä
+
@@Ä Å
$num
@@Ç É
]
@@É Ñ
)
@@Ñ Ö
:
@@Ü á
$num
@@à â
;
@@â ä
}AA 
	lifeCountCC 
+=CC 
currentColumnCC &
>CC' (
$numCC) *
?CC+ ,
ConvertCC- 4
.CC4 5
ToInt32CC5 <
(CC< =
	gameStateCC= F
.CCF G

GenerationCCG Q
[CCQ R

currentRowCCR \
]CC\ ]
[CC] ^
currentColumnCC^ k
-CCk l
$numCCm n
]CCn o
)CCo p
:CCq r
$numCCs t
;CCt u
	lifeCountDD 
+=DD 
currentColumnDD &
<DD' (

MaxColumnsDD) 3
-DD4 5
$numDD6 7
?DD8 9
ConvertDD: A
.DDA B
ToInt32DDB I
(DDI J
	gameStateDDJ S
.DDS T

GenerationDDT ^
[DD^ _

currentRowDD_ i
]DDi j
[DDj k
currentColumnDDk x
+DDx y
$numDDz {
]DD{ |
)DD| }
:DD~ 
$num
DDÄ Å
;
DDÅ Ç
returnFF 
	lifeCountFF 
;FF 
}GG 	
}HH 
}II ö
:D:\School\GameOfLife\GameRunner\GameRunner\HubConnector.cs
	namespace 	

GameRunner
 
{ 
public 

class 
HubConnector 
{ 
public		 
HubConnection		 

Connection		 '
{		( )
get		* -
;		- .
}		/ 0
public

 
GameStateCalculator

 "

Calculator

# -
{

. /
get

0 3
;

3 4
}

5 6
public 
Client 
Client 
{ 
get "
;" #
}% &
public 
HubConnector 
( 
string "

connection# -
)- .
{ 	

Connection 
= 
new  
HubConnectionBuilder 1
(1 2
)2 3
. 
WithUrl 
( 

connection '
+( )
$str* 5
)5 6
. 
Build 
( 
) 
; 

Calculator 
= 
new 
GameStateCalculator 0
(0 1
)1 2
;2 3
Client 
= 
new 
Client 
(  

connection  *
)* +
;+ ,
} 	
public 
void 
OnClosed 
( 
) 
{ 	

Connection 
. 
Closed 
+=  
async! &
(' (
error( -
)- .
=>/ 1
{ 
await 
Task 
. 
Delay  
(  !
new! $
Random% +
(+ ,
), -
.- .
Next. 2
(2 3
$num3 4
,4 5
$num6 7
)7 8
*9 :
$num; ?
)? @
;@ A
await 

Connection  
.  !

StartAsync! +
(+ ,
), -
;- .
} 
; 
} 	
public   
	GameState   
CalculateNextState   +
(  + ,
	GameState  , 5
currentState  6 B
)  B C
{!! 	
var"" 
	nextState"" 
="" 

Calculator"" &
.""& '
CalculateNextState""' 9
(""9 :
currentState"": F
)""F G
;""G H
Client## 
.## 

UpdateGame## 
(## 
	nextState## '
)##' (
;##( )
return%% 
	nextState%% 
;%% 
}&& 	
}'' 
}(( “
5D:\School\GameOfLife\GameRunner\GameRunner\Program.cs
	namespace 	

GameRunner
 
{ 
class 	
Program
 
{ 
	protected 
Program 
( 
) 
{ 
} 
private

 
static

 
void

 
Main

  
(

  !
)

! "
{ 	
string 
baseUrl 
= 
$str ;
;; <
var 
hubConnector 
= 
new "
HubConnector# /
(/ 0
baseUrl0 7
)7 8
;8 9
hubConnector 
. 
OnClosed !
(! "
)" #
;# $
hubConnector 
. 

Connection #
.# $
On$ &
<& '
	GameState' 0
>0 1
(1 2
$str2 A
,A B
(C D
currentStateD P
)P Q
=>R T
{U V
hubConnectorW c
.c d
CalculateNextStated v
(v w
currentState	w É
)
É Ñ
;
Ñ Ö
}
Ü á
)
á à
;
à â
try 
{ 
hubConnector 
. 

Connection '
.' (

StartAsync( 2
(2 3
)3 4
;4 5
} 
catch 
( 
	Exception 
ex 
)  
{ 
Console 
. 
	WriteLine !
(! "
ex" $
.$ %
Message% ,
), -
;- .
} 
Console 
. 
Read 
( 
) 
; 
hubConnector 
. 

Connection #
.# $
	StopAsync$ -
(- .
). /
;/ 0
} 	
} 
} 